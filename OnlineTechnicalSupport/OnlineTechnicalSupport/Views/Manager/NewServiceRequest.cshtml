@model ServiceRequest
@using OnlineTechnicalSupport.Models.Data;
@{
    ViewBag.Title = "NewServiceRequest";
    Layout = "~/Views/Shared/_ManagerLayout.cshtml";
}

<h2>Yeni Servis Aç</h2>
<hr />
<div>
        @if (ViewBag.Result != null)
        {
            <div class="rounded-lg w-100">
                <div class="alert alert-success">
                    @ViewBag.Result
                </div>
            </div>
        }
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div>
                <table class="ml-3">
                    <tr>
                        <td>
                            <p>Cihaz seri numarası veya servis kimliği</p>
                            @Html.TextBox("searchAsset", "", new { @style = "", @class = "form-control-sm w-100", autocomplete = "on", placeholder = "" })
                            @if (ViewBag.Asset != null)
                            {
                                <div class="rounded-lg">
                                    <div class="alert alert-success">
                                        <img src="~/Files/Images/Products/@ViewBag.ProductId/@ViewBag.ProductImage" style="width:64px;" />
                                        @ViewBag.Asset
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="rounded-lg">
                                    <div class="alert alert-danger">
                                        <p>Cihaz bulunamadı</p>
                                    </div>
                                </div>
                            }
                        </td>
                        <td>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.IssueId, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.DropDownListFor(model => model.IssueId, new SelectList(ViewBag.Issues, "Value", "Text"), "Sorununuzu belirleyiniz", new { @style = "", @class = "form-control-sm w-100" })<br /><br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.IssueId, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @style = "", @class = "form-control-sm w-100" } })<br /><br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Surname, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.EditorFor(model => model.Surname, new { htmlAttributes = new { @style = "", @class = "form-control-sm w-100" } })<br /><br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.Surname, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.PhoneNumber, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.EditorFor(model => model.PhoneNumber, new { htmlAttributes = new { @style = "", @class = "form-control-sm w-100" } })<br /><br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Title, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @style = "", @class = "form-control-sm w-100" } })<br /><br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label" })<br />
                            @Html.TextAreaFor(model => model.Description, 5, 50, new { @style = "", @class = "p-2 w-100" })<br />
                        </td>
                        <td>
                            @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <br />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="submit" value="Gönder" class="btn btn-sm btn-success w-100" />
                        </td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
                <br />
            </div>
        }
</div>

